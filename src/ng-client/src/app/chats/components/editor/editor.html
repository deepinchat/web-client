@if(form){
<form [formGroup]="form">
    <div class="chat-avatar">
        <deepin-avatar [fileUrl]="formControlValue('avatarFileId') | fileUrl | async"
            [displayName]="formControlValue('name')"></deepin-avatar>

        <deepin-file-uploader (fileUploaded)="onFileUploaded($event)" [multiple]="false"
            [accept]="'image/*'"></deepin-file-uploader>
    </div>
    <mat-form-field appearance="outline">
        <mat-label>Name</mat-label>
        <input matInput formControlName="name">
    </mat-form-field>
    <mat-form-field appearance="outline">
        <mat-label>Link</mat-label>
        <input matInput formControlName="userName"> Â 
        <mat-hint>https://deepin.me/{{formControlValue('userName')}}</mat-hint>
        @if (formControlErrors('userName')?.['required']) {
        <mat-error>Link cannot be null.</mat-error>
        }
        @if (formControlErrors('userName')?.['minlength'] || formControlErrors('userName')?.['maxlength']) {
        <mat-error>Link length must be 4-32 characters or numbers or underscores.</mat-error>
        }
        @if (formControlErrors('userName')?.['duplicated']) {
        <mat-error>Link already exists.</mat-error>
        }
    </mat-form-field>
    <mat-form-field appearance="outline">
        <mat-label>Description</mat-label>
        <textarea matInput formControlName="description"></textarea>
    </mat-form-field>
    <mat-checkbox formControlName="isPublic">
        Public Chat
    </mat-checkbox>
</form>
}